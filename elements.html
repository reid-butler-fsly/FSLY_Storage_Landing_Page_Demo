<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Elements Reference - Massively by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Player with Stats</title>
  <link href="https://vjs.zencdn.net/8.0.0/video-js.css" rel="stylesheet">
  <link href="https://unpkg.com/videojs-http-source-selector/dist/videojs-http-source-selector.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    #container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      padding: 20px;
    }
    #video-container {
      width: 960px;
    }
    #stats {
      border: 1px solid #ccc;
      padding: 10px;
      background-color: #f9f9f9;
      max-height: 500px;
    }
    #stats h3 {
      margin-top: 0;
    }
    #stats p {
      margin: 5px 0;
      font-size: 14px;
    }
  </style>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="https://www.fastly.com/" class="logo">FASTLY</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li class="active"><a href="index.html">Fastly Storage + Video JS</a></li>
                <li><a href="generic.html">4K VOD Playback</a></li>
                <li><a href="elements.html">Video Stats Player</a></li>
						</ul>
						<ul class="icons">
							<li><a href="https://github.com/fastly" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                <li><a href="https://twitter.com/fastly" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="https://www.facebook.com/@FastlyEdgeCloud/" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="https://www.instagram.com/fastlyinc/?hl=en" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									<h1>View Real Time<br />
									treaming Stats</h1>
								</header>



								<div id="container">
  <div id="video-container">
    <video id="videoPlayer" class="video-js vjs-default-skin" controls preload="auto" width="960" height="540">
      <source src="https://reidfastlystorage.global.ssl.fastly.net/reidtestbucket/VOD/TearsOfSteel_HLS/tears_of_steel_4K.m3u8" type="application/x-mpegURL">
    </video>
  </div>
  <div id="stats">
    <h3>Streaming Stats</h3>
    <p><strong>Playback Time:</strong> <span id="playbackTime">0</span> sec</p>
    <p><strong>Buffered Time:</strong> <span id="bufferedTime">0</span> sec</p>
    <p><strong>Bandwidth:</strong> <span id="bandwidth">N/A</span> kbps</p>
    <p><strong>Dropped Frames:</strong> <span id="droppedFrames">0</span></p>
  </div>
</div>

<script src="https://vjs.zencdn.net/8.0.0/video.min.js"></script>
<script src="https://unpkg.com/videojs-contrib-quality-levels/dist/videojs-contrib-quality-levels.js"></script>
<script src="https://unpkg.com/videojs-http-source-selector/dist/videojs-http-source-selector.js"></script>
<script>
  const player = videojs('videoPlayer');

  // Enable HTTP Source Selector for quality switching
  player.httpSourceSelector();

  // Stats elements
  const playbackTimeEl = document.getElementById('playbackTime');
  const bufferedTimeEl = document.getElementById('bufferedTime');
  const bandwidthEl = document.getElementById('bandwidth');
  const droppedFramesEl = document.getElementById('droppedFrames');

  function updateStats() {
    const currentTime = player.currentTime();
    const buffered = player.buffered();
    const bufferEnd = buffered.length > 0 ? buffered.end(buffered.length - 1) : 0;

    playbackTimeEl.textContent = currentTime.toFixed(2);
    bufferedTimeEl.textContent = bufferEnd.toFixed(2);

    // Example bandwidth (mocked, requires actual implementation for real tracking)
    bandwidthEl.textContent = Math.round(Math.random() * 1000); // Replace with real data if available

    // Example dropped frames (mocked, replace with actual stats)
    droppedFramesEl.textContent = Math.floor(Math.random() * 10); // Replace with real data if available
  }

  player.on('timeupdate', updateStats);
</script>
							</section>
							<</div>

								



		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>